/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'org.springframework.boot' version '2.2.2.RELEASE'
    id "com.github.spotbugs" version "3.0.0"
    id "com.diffplug.gradle.spotless" version "3.27.0"
    id 'info.solidsoft.pitest' version '1.4.6'
}

repositories {
    mavenLocal()
    maven {
        url = 'https://repo.maven.apache.org/maven2'
    }
}

dependencies {
    implementation(group: 'org.springframework.boot', name: 'spring-boot-starter-web', version:'2.1.3.RELEASE') {
        exclude(module: 'tomcat-embed-websocket')
    }
    testImplementation 'junit:junit:4.12'
}

spotless {
    java {
        googleJavaFormat().aosp()
    }
}
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.withType(com.github.spotbugs.SpotBugsTask) {
    reports {
        xml.enabled false
        html.enabled true
    }
}

pitest {
    targetClasses = ['hofls.com.github.*']
    outputFormats = ['HTML']
    timestampedReports = false
    mutationThreshold = 100
}

build.dependsOn 'spotlessApply'
build.dependsOn 'pitest'
